import{a as j,r as i,d as f,h as m,j as e,l as b,T as a}from"./index-DXCadrFQ.js";import{P as g,O as N,S as v}from"./OTPResponsive1-G-al5HR8.js";import{R as _}from"./ResponsiveSuccessmodal-B_6b-9MN.js";import"./Layout-OzvLW8TI.js";const S=()=>{const l=j(),[t,n]=i.useState(1),[s,d]=i.useState(""),[u,r]=i.useState(!1),[c,p]=i.useState(""),{userDetails:h}=f(o=>o.userinfo);return i.useEffect(()=>{t===3&&(r(!0),setTimeout(()=>{r(!1),p(""),d(""),n(1)},3e3))},[t]),{goBack:()=>{l(-1)},step:t,next:async()=>{if(t===1){const{success:o}=await m.post("/sendotp/receptionist",{mobile_number:c,clinicId:h._id});if(o)return n(x=>x+1)}if(t===2){const{success:o}=await m.post("/verifyotp/receptionist",{mobile_number:c,otp:s});if(o)return n(x=>x+1)}},pre:()=>{t!==1&&n(o=>o-1)},setOTP:d,otp:s,modalPopup:u,setValue:p,value:c}},C=()=>{const{goBack:l,next:t,pre:n,step:s,otp:d,setOTP:u,modalPopup:r,setValue:c,value:p}=S();return e.jsxs("div",{style:{boxShadow:"0 5px 9px -8px rgba(0, 0, 0, .9), 0 2px 9px -3px rgba(0, 0, 0, .9)"},className:"add-doctor-container",children:[e.jsxs("div",{className:"add-doctor-top",children:[e.jsx(b,{size:20,onClick:()=>s===1?l():n(),className:" cursor-pointer"}),e.jsx("p",{className:"add-doctor-top-title",children:a.add_receptionist.navigate_content})]}),e.jsxs("div",{className:"add-doctor-content",children:[s===1&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"add-doctor-content-header",children:a.add_receptionist.step1.button}),e.jsx(g,{setValue:c,value:p}),e.jsx("button",{onClick:t,className:"add-doctor-content-phonenumber",children:a.add_receptionist.step1.button})]}),s===2&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"add-doctor-content-header",children:a.add_receptionist.step2.title}),e.jsx("p",{className:" text-gray-500",children:a.add_receptionist.step2.subtext}),e.jsx(N,{otp:d,setOTP:u}),e.jsxs("p",{className:" flex items-center gap-3 cursor-pointer",children:[" ",e.jsx(v,{})," ",a.add_receptionist.step2.resend_text]}),e.jsx("button",{onClick:t,className:"add-doctor-content-phonenumber",children:a.add_receptionist.step2.button})]}),s===3&&e.jsx(e.Fragment,{children:r&&e.jsx(_,{modalPopup:r})})]})]})};export{C as default};
