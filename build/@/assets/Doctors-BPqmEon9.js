import{a as L,b as O,r as l,d as C,h as k,k as R,j as t,e as F,T as i}from"./index-DXCadrFQ.js";import{S as M}from"./AddIcon-BhEC_QvE.js";import{C as D}from"./Card--MWi0TZm.js";import{P as q,T as B,D as H,a as J,b as z}from"./Paginitation-CVOG5C3y.js";import{S as G}from"./Select-wHze5Tou.js";import"./index-Df58Q9ES.js";import"./index-CrCcu0zu.js";import"./Layout-OzvLW8TI.js";const K=()=>{const b=L(),g=O(),[r,p]=l.useState(),[h,o]=l.useState(!0),[m,u]=l.useState({total_doctor:"",available_doctor:"",leave_doctor:""}),[n,v]=l.useState(!1),[f,x]=l.useState(!1),{userDetails:j}=C(s=>s.userinfo);return l.useEffect(()=>{(async()=>{const{success:c,doctorAvailability:d,totalDoctorsCount:a,availableDoctorsCount:A,unavailableDoctorsCount:E}=await k.get(`/doctersby_clinic/${j._id}?appointment_date=${r}`);if(c){u({total_doctor:a,available_doctor:A,leave_doctor:E});const I=d.map(e=>{var P,w,T,$;return{id:(P=e==null?void 0:e.doctor)==null?void 0:P._id,doctor_name:((w=e==null?void 0:e.doctor)==null?void 0:w.name)||"",specialist:((T=e==null?void 0:e.doctor)==null?void 0:T.specilaist)||"",availability:(e==null?void 0:e.availability)!=="unavailable",status:e==null?void 0:e.doctor.block,doctor_image:(($=e==null?void 0:e.doctor)==null?void 0:$.profile)||null}});o(!1),g(R(I));return}})()},[r,n]),{setselectedDate:p,selectedDate:r,style:{width:"100%",padding:"0px",border:"1px solid #d3d3d3",outline:"1px solid #d3d3d3",background:"rgba(218, 227, 255, 0.31)"},Options:[{label:"Recently joined",value:"Recently_joined"},{label:"Doctors on leave",value:"Doctors_on_leave"}],navigateAddDoctorPage:()=>b("/add-doctor"),cardValue:m,primaryLoader:h,setModel:v,model:n,handleChange:async(s,c,d)=>{const{success:a}=await k.post(`/doctor/${s}`,{block:c,reason:d});a&&x(!0)},clear:f,setClear:x}},et=()=>{const{selectedDate:b,setselectedDate:g,Options:r,style:p,navigateAddDoctorPage:h,cardValue:o,primaryLoader:m,model:u,setModel:n,handleChange:v,clear:f,setClear:x}=K(),{doctorTable:j}=C(a=>a.TableDatas),{PrePage:_,changePage:y,currentpage:S,nextPage:N,tableDats:s,pageCount:c}=q({datas:j}),{sidebarStatus:d}=C(a=>a.sidebarInfo);return t.jsx("div",{className:" w-full h-full px-3 pb-[1px] overflow-auto",children:m?t.jsx(F,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`grid  gap-4 min-h-[100px] ${d?"2xl:grid-cols-3 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 xs:grid-cols-1 xss:grid-cols-1 mobile:grid-cols-1":"2xl:grid-cols-3 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 xs:grid-cols-1 xss:grid-cols-1 mobile:grid-cols-1"} `,children:[t.jsx(D,{title:i.doctors.card.text1,count:o==null?void 0:o.total_doctor,bg:"#0073EE",textColor:"#fff"}),t.jsx(D,{title:i.doctors.card.text2,count:o==null?void 0:o.available_doctor,textColor:"#000"}),t.jsx(D,{title:i.doctors.card.text3,count:o==null?void 0:o.leave_doctor,textColor:"#000"})]}),t.jsxs("div",{style:{boxShadow:"0 5px 9px -8px rgba(0, 0, 0, .9), 0 2px 9px -3px rgba(0, 0, 0, .9)"},className:"table-box ",children:[t.jsxs("div",{className:"table-box-top 2xl:h-[100px] xl:h-[100px] lg:h-[100px] md:h-[20%] sm:h-[20%] xs:h-[40%] xss:h-[40%] mobile:h-[40%]",children:[t.jsx("div",{className:"table-box-top-left",children:t.jsx(B,{title:i.doctors.title,subContent:`${s.length} ${i.doctors.subText}`})}),t.jsx("div",{className:"table-box-top-right-1",children:t.jsxs("div",{className:"table-box-top-right-grid-1",children:[t.jsx("div",{className:"table-box-top-right-content-date-1",children:t.jsx(H,{date:b,handleDateSelect:g})}),t.jsx("div",{className:"table-box-top-right-content-filter-1",children:t.jsx(G,{options:r,styles:p,placeholder:"Filter"})}),t.jsx("div",{className:"table-box-top-right-content-filter-1",children:t.jsxs("button",{onClick:h,className:"table-box-top-right-content-button-1 ",children:[t.jsx(M,{})," Invite"]})})]})})]}),t.jsx("div",{className:" mt-3 pb-3 overflow-auto w-full 2xl:h-[70%] xl:h-[70%] lg:h-[73%] md:h-[63%] sm:h-[63%] xs:h-[43%] xss:h-[43%] mobile:h-[43%]",children:t.jsx(J,{headers:[{title:"S.No"},{title:"Doctor name"},{title:"Specialist"},{title:"Status"},{title:""},{title:"View"}],tableBody:s,tableName:"Doctor",model:u,setModel:n,handleChange:v,clear:f,setClear:x})}),t.jsx("div",{className:" w-full h-[10%] flex items-end pt-4  overflow-x-auto relative",children:t.jsx(z,{PrePage:_,currentpage:S,nextPage:N,pageCount:c.length,changePage:y})})]})]})})};export{et as default};
