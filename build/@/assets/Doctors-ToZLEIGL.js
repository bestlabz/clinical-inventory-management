import{a as O,b as R,r as l,d as _,h as E,k as F,j as t,e as M,T as n}from"./index--2RkWEwH.js";import{S as q}from"./AddIcon-GvwRfLrY.js";import{C as D}from"./Card-DG87-rQd.js";import{P as B,T as H,D as J,a as z,b as G}from"./Paginitation-BPDrOX05.js";import{S as K}from"./Select-xlJMiOs5.js";import"./Layout-DYeZ_J19.js";const Q=()=>{const g=O(),b=R(),[r,p]=l.useState(),[h,o]=l.useState(!0),[m,u]=l.useState({total_doctor:"",available_doctor:"",leave_doctor:""}),[i,v]=l.useState(!1),[f,x]=l.useState(!1),{userDetails:j}=_(s=>s.userinfo);return l.useEffect(()=>{(async()=>{const{success:c,doctorAvailability:d,totalDoctorsCount:a,availableDoctorsCount:I,unavailableDoctorsCount:L}=await E.get(`/doctersby_clinic/${j._id}?appointment_date=${r}`);if(c){u({total_doctor:a,available_doctor:I,leave_doctor:L});const P=d.map(e=>{var w,T,$,k,A;return{id:(w=e==null?void 0:e.doctor)==null?void 0:w._id,doctor_image:((T=e==null?void 0:e.doctor)==null?void 0:T.postgraduate_certificate)||"",doctor_name:(($=e==null?void 0:e.doctor)==null?void 0:$.name)||"",specialist:((k=e==null?void 0:e.doctor)==null?void 0:k.specilaist)||"",availability:(e==null?void 0:e.availability)!=="unavailable",status:e==null?void 0:e.doctor.block,doctor_image:((A=e==null?void 0:e.doctor)==null?void 0:A.profile)||null}});console.log("tableData",P),o(!1),b(F(P));return}})()},[r,i]),{setselectedDate:p,selectedDate:r,style:{width:"100%",padding:"0px",border:"1px solid #d3d3d3",outline:"1px solid #d3d3d3",background:"rgba(218, 227, 255, 0.31)"},Options:[{label:"Recently joined",value:"Recently_joined"},{label:"Doctors on leave",value:"Doctors_on_leave"}],navigateAddDoctorPage:()=>g("/add-doctor"),cardValue:m,primaryLoader:h,setModel:v,model:i,handleChange:async(s,c,d)=>{const{success:a}=await E.post(`/doctor/${s}`,{block:c,reason:d});a&&x(!0)},clear:f,setClear:x}},tt=()=>{const{selectedDate:g,setselectedDate:b,Options:r,style:p,navigateAddDoctorPage:h,cardValue:o,primaryLoader:m,model:u,setModel:i,handleChange:v,clear:f,setClear:x}=Q(),{doctorTable:j}=_(a=>a.TableDatas),{PrePage:C,changePage:y,currentpage:S,nextPage:N,tableDats:s,pageCount:c}=B({datas:j}),{sidebarStatus:d}=_(a=>a.sidebarInfo);return t.jsx("div",{className:" w-full h-full px-3 pb-[1px] overflow-auto",children:m?t.jsx(M,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`grid  gap-4 min-h-[100px] ${d?"2xl:grid-cols-3 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 xs:grid-cols-1 xss:grid-cols-1 mobile:grid-cols-1":"2xl:grid-cols-3 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 xs:grid-cols-1 xss:grid-cols-1 mobile:grid-cols-1"} `,children:[t.jsx(D,{title:n.doctors.card.text1,count:o==null?void 0:o.total_doctor,bg:"#0073EE",textColor:"#fff"}),t.jsx(D,{title:n.doctors.card.text2,count:o==null?void 0:o.available_doctor,textColor:"#000"}),t.jsx(D,{title:n.doctors.card.text3,count:o==null?void 0:o.leave_doctor,textColor:"#000"})]}),t.jsxs("div",{style:{boxShadow:"0 5px 9px -8px rgba(0, 0, 0, .9), 0 2px 9px -3px rgba(0, 0, 0, .9)"},className:"table-box ",children:[t.jsxs("div",{className:"table-box-top 2xl:h-[100px] xl:h-[100px] lg:h-[100px] md:h-[20%] sm:h-[20%] xs:h-[40%] xss:h-[40%] mobile:h-[40%]",children:[t.jsx("div",{className:"table-box-top-left",children:t.jsx(H,{title:n.doctors.title,subContent:`${s.length} ${n.doctors.subText}`})}),t.jsx("div",{className:"table-box-top-right-1",children:t.jsxs("div",{className:"table-box-top-right-grid-1",children:[t.jsx("div",{className:"table-box-top-right-content-date-1",children:t.jsx(J,{date:g,handleDateSelect:b})}),t.jsx("div",{className:"table-box-top-right-content-filter-1",children:t.jsx(K,{options:r,styles:p,placeholder:"Filter"})}),t.jsx("div",{className:"table-box-top-right-content-filter-1",children:t.jsxs("button",{onClick:h,className:"table-box-top-right-content-button-1 ",children:[t.jsx(q,{})," Invite"]})})]})})]}),t.jsx("div",{className:" mt-3 pb-3 overflow-auto w-full 2xl:h-[70%] xl:h-[70%] lg:h-[73%] md:h-[63%] sm:h-[63%] xs:h-[43%] xss:h-[43%] mobile:h-[43%]",children:t.jsx(z,{headers:[{title:"S.No"},{title:"Doctor name"},{title:"Specialist"},{title:"Status"},{title:""},{title:"View"}],tableBody:s,tableName:"Doctor",model:u,setModel:i,handleChange:v,clear:f,setClear:x})}),t.jsx("div",{className:" w-full h-[14%] flex items-end pt-4  overflow-x-auto relative",children:t.jsx(G,{PrePage:C,currentpage:S,nextPage:N,pageCount:c.length,changePage:y})})]})]})})};export{tt as default};
